<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vigenère Cipher - Decrypt</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        input, textarea { width: 100%; margin-bottom: 10px; padding: 10px; }
        button { padding: 10px 15px; }
    </style>
</head>
<body>

<h1>Vigenère Cipher - Decrypt</h1>

<label for="key1">Key 1:</label>
<input type="text" id="key1" required>

<label for="key2">Key 2:</label>
<input type="text" id="key2" required>

<label for="ciphertext">Ciphertext Message:</label>
<textarea id="ciphertextInput" rows="4" required></textarea>

<button onclick="decryptMessage()">Decrypt</button>

<h2>Decrypted Message:</h2>
<p id="plaintext"></p>

<script>
function decryptMessage() {
    const key1 = document.getElementById("key1").value;
    const key2 = document.getElementById("key2").value;
    const ciphertext = document.getElementById("ciphertextInput").value;

    // Combine keys
    const combinedKey = key1 + key2;

    // Decrypting logic
    let plaintext = "";
    let keyIndex = 0;

    for (let i = 0; i < ciphertext.length; i++) {
        let char = ciphertext[i];
        if (char.match(/[a-zA-Z]/)) {
            let shift = combinedKey[keyIndex % combinedKey.length].toLowerCase().charCodeAt(0) - 'a'.charCodeAt(0);
            if (char >= 'A' && char <= 'Z') {
                plaintext += String.fromCharCode((char.charCodeAt(0) - 'A'.charCodeAt(0) - shift + 26) % 26 + 'A'.charCodeAt(0));
            } else {
                plaintext += String.fromCharCode((char.charCodeAt(0) - 'a'.charCodeAt(0) - shift + 26) % 26 + 'a'.charCodeAt(0));
            }
            keyIndex++;
        } else {
            plaintext += char; // Non-alphabetic characters remain unchanged
        }
    }

    document.getElementById("plaintext").innerText = plaintext;
}
</script>

</body>
</html>
